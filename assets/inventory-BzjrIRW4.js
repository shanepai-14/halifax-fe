import{r as s,j as e,at as Z,B as S,T as M,G as c,F as P,a0 as _,X as ee,V as b}from"./index-AD2Xt7AV.js";import{T as C,S as f,M as d}from"./TextField-DzY76rxB.js";import{I as v}from"./InputLabel-CapF3I0M.js";import{B as q}from"./Button-BEGfdYZ5.js";import{A as ae}from"./addSupplierModal-BhQqV3Ym.js";import{C as te}from"./Container-eFkRKh05.js";import{R as ie,a as R}from"./SearchOutlined-D6T7UMWW.js";import{R as ne,a as re}from"./EyeOutlined-CiPlAlpN.js";import{T as se,a as le,e as oe,c as B,d as n,b as de}from"./TableRow-BNGT_3ZY.js";import{R as ce}from"./EditOutlined-CprnBqQY.js";import{R as ue}from"./DeleteOutlined-BNN1C90f.js";import{T as pe}from"./TablePagination-Bh4qOVVa.js";const me={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4},he=({open:g,handleClose:p,handleAddItem:m,categories:A,suppliers:l})=>{const[r,u]=s.useState({code:"",name:"",category:"",supplier:"",price:"",quantity:""}),o=t=>{const{name:x,value:I}=t.target;u(y=>({...y,[x]:I}))},h=t=>{t.preventDefault(),m({...r,price:parseFloat(r.price),quantity:parseInt(r.quantity)}),p(),u({code:"",name:"",category:"",supplier:"",price:"",quantity:""})};return e.jsx(Z,{open:g,onClose:p,"aria-labelledby":"add-item-modal-title",children:e.jsxs(S,{sx:me,children:[e.jsx(M,{id:"add-item-modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:"Add New Item"}),e.jsx("form",{onSubmit:h,children:e.jsxs(c,{container:!0,spacing:2,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(C,{fullWidth:!0,label:"Product Code",name:"code",value:r.code,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(C,{fullWidth:!0,label:"Product Name",name:"name",value:r.name,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(P,{fullWidth:!0,required:!0,children:[e.jsx(v,{children:"Category"}),e.jsx(f,{name:"category",value:r.category,onChange:o,label:"Category",children:A.map(t=>e.jsx(d,{value:t,children:t},t))})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(P,{fullWidth:!0,required:!0,children:[e.jsx(v,{children:"Supplier"}),e.jsx(f,{name:"supplier",value:r.supplier,onChange:o,label:"Supplier",children:l.map(t=>e.jsx(d,{value:t,children:t},t))})]})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(C,{fullWidth:!0,label:"Price",name:"price",type:"number",value:r.price,onChange:o,required:!0,InputProps:{startAdornment:e.jsx(M,{children:"₱"})}})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(C,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:r.quantity,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(S,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:2},children:[e.jsx(q,{onClick:p,variant:"outlined",children:"Cancel"}),e.jsx(q,{type:"submit",variant:"contained",color:"primary",children:"Add Item"})]})})]})})]})})},xe=[{id:1,code:"P001",name:"Tempered Glass",price:100,quantity:50,category:"Glass",supplier:"GlassCo"},{id:2,code:"P002",name:"Insulated Glass",price:120,quantity:40,category:"Glass",supplier:"GlassMasters"},{id:3,code:"P003",name:"Laminated Glass",price:130,quantity:30,category:"Glass",supplier:"SafeGlass"},{id:4,code:"P004",name:"Frosted Glass",price:90,quantity:60,category:"Glass",supplier:"GlassCo"},{id:5,code:"P005",name:"Soundproof Glass",price:150,quantity:20,category:"Glass",supplier:"SoundTech"},{id:6,code:"P006",name:"Aluminum Sheet",price:80,quantity:100,category:"Aluminum",supplier:"AluMetals"},{id:7,code:"P007",name:"Aluminum Cladding",price:70,quantity:50,category:"Aluminum",supplier:"CladWorks"},{id:8,code:"P008",name:"Aluminum Bars",price:60,quantity:75,category:"Aluminum",supplier:"AluSupply"},{id:9,code:"P009",name:"Aluminum Window Frames",price:200,quantity:20,category:"Aluminum",supplier:"WindowFramesCo"},{id:10,code:"P010",name:"Aluminum Doors",price:250,quantity:15,category:"Aluminum",supplier:"DoorsCo"},{id:11,code:"P011",name:"Breezeway Louver Windows",price:180,quantity:10,category:"Breezeway",supplier:"BreezewayTech"},{id:12,code:"P012",name:"Breezeway Ventilation Panels",price:70,quantity:30,category:"Breezeway",supplier:"VentPanelsInc"},{id:13,code:"P013",name:"Breezeway Sunshades",price:90,quantity:25,category:"Breezeway",supplier:"SunshadeSupply"},{id:14,code:"P014",name:"Jalousie Window Frame",price:120,quantity:50,category:"Jalousies Frame",supplier:"FrameWorks"},{id:15,code:"P015",name:"Adjustable Jalousie Frame",price:130,quantity:30,category:"Jalousies Frame",supplier:"AdjustFrameTech"},{id:16,code:"P016",name:"Fixed Jalousie Frame",price:110,quantity:40,category:"Jalousies Frame",supplier:"FixedFrameCo"},{id:17,code:"P017",name:"UPVC Window",price:300,quantity:20,category:"UPVC",supplier:"UPVCWindowsInc"},{id:18,code:"P018",name:"UPVC Door",price:350,quantity:15,category:"UPVC",supplier:"UPVCDoorMasters"},{id:19,code:"P019",name:"UPVC Cladding",price:100,quantity:45,category:"UPVC",supplier:"CladUPVC"},{id:20,code:"P020",name:"UPVC Fascia Board",price:80,quantity:60,category:"UPVC",supplier:"FasciaUPVC"},{id:21,code:"S001",name:"Glass Installation Service",price:500,quantity:0,category:"Services",supplier:"GlassInstallers"},{id:22,code:"S002",name:"Aluminum Fabrication Service",price:700,quantity:0,category:"Services",supplier:"AluFabTech"},{id:23,code:"S003",name:"Window Repair Service",price:300,quantity:0,category:"Services",supplier:"WindowRepairCo"},{id:24,code:"S004",name:"Custom UPVC Design",price:1e3,quantity:0,category:"Services",supplier:"CustomDesignUPVC"},{id:25,code:"P021",name:"Silicone Sealant",price:25,quantity:100,category:"Other",supplier:"SealantSupply"},{id:26,code:"P022",name:"Glass Cleaner",price:10,quantity:200,category:"Other",supplier:"CleanersInc"},{id:27,code:"P023",name:"Installation Tools Kit",price:150,quantity:20,category:"Other",supplier:"ToolKitsCo"}],we=()=>{const[g,p]=s.useState(0),[m,A]=s.useState(20),[l,r]=s.useState(xe),[u,o]=s.useState(""),[h,t]=s.useState("all"),[x,I]=s.useState("all"),[y,w]=s.useState("none"),[F,z]=s.useState(l),[U,T]=s.useState(!1),[D,W]=s.useState(!1);s.useEffect(()=>{let a=l.filter(i=>(i.code.toLowerCase().includes(u.toLowerCase())||i.name.toLowerCase().includes(u.toLowerCase()))&&(h==="all"||i.category===h)&&(x==="all"||i.supplier===x));y==="asc"?a.sort((i,j)=>i.quantity-j.quantity):y==="desc"&&a.sort((i,j)=>j.quantity-i.quantity),z(a)},[u,h,x,y,l]);const k=(a,i)=>{p(i)},L=a=>{A(parseInt(a.target.value,10)),p(0)},O=a=>{r(l.filter(i=>i.id!==a))},J=a=>{console.log("Edit item",a)},E=a=>{console.log("View item",a)},N=()=>{T(!0)},Q=()=>{T(!1)},$=()=>{W(!0)},H=()=>{W(!1)},K=a=>{console.log(a)},X=a=>{const i=Math.max(...l.map(j=>j.id))+1;r([...l,{...a,id:i}])},Y=()=>{o(""),t("all"),I("all"),w("none")},G=[...new Set(l.map(a=>a.category))],V=[...new Set(l.map(a=>a.supplier))];return e.jsxs(te,{maxWidth:"xxl",sx:{mt:0,px:"0!important"},children:[e.jsxs(S,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(S,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(C,{placeholder:"Search by code or name...",variant:"outlined",size:"small",value:u,onChange:a=>o(a.target.value),InputProps:{startAdornment:e.jsx(_,{position:"start",children:e.jsx(ie,{})})}}),e.jsxs(P,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(v,{children:"Category"}),e.jsxs(f,{value:h,onChange:a=>t(a.target.value),label:"Category",children:[e.jsx(d,{value:"all",children:"All Categories"}),G.map(a=>e.jsx(d,{value:a,children:a},a))]})]}),e.jsxs(P,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(v,{children:"Supplier"}),e.jsxs(f,{value:x,onChange:a=>I(a.target.value),label:"Supplier",children:[e.jsx(d,{value:"all",children:"All Suppliers"}),V.map(a=>e.jsx(d,{value:a,children:a},a))]})]}),e.jsxs(P,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(v,{children:"Quantity"}),e.jsxs(f,{value:y,onChange:a=>w(a.target.value),label:"Quantity",children:[e.jsx(d,{value:"none",children:"No Sort"}),e.jsx(d,{value:"asc",children:"Low to High"}),e.jsx(d,{value:"desc",children:"High to Low"})]})]}),e.jsx(q,{variant:"text",color:"error",sx:{ml:1,padding:0,minWidth:0},onClick:Y,children:e.jsx(ne,{})})]}),e.jsxs(S,{children:[e.jsx(q,{variant:"contained",onClick:N,color:"error",sx:{mr:1},startIcon:e.jsx(R,{}),children:"Add Item"}),e.jsx(q,{variant:"contained",color:"secondary",onClick:$,startIcon:e.jsx(R,{}),children:"Add Supplier"})]})]}),e.jsx(se,{component:ee,children:e.jsxs(le,{children:[e.jsx(oe,{children:e.jsxs(B,{children:[e.jsx(n,{children:"Code"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Supplier"}),e.jsx(n,{align:"right",children:"Price (₱)"}),e.jsx(n,{align:"right",children:"Quantity"}),e.jsx(n,{align:"right",children:"Actions"})]})}),e.jsx(de,{children:F.slice(g*m,g*m+m).map(a=>e.jsxs(B,{children:[e.jsx(n,{children:a.code}),e.jsx(n,{children:a.name}),e.jsx(n,{children:a.category}),e.jsx(n,{children:a.supplier}),e.jsxs(n,{align:"right",children:["₱",a.price.toLocaleString()]}),e.jsx(n,{align:"right",style:{color:a.quantity===0?"red":"inherit"},children:a.quantity}),e.jsxs(n,{align:"right",children:[e.jsx(b,{onClick:()=>E(a.id),children:e.jsx(re,{style:{fontSize:20}})}),e.jsx(b,{onClick:()=>J(a.id),children:e.jsx(ce,{style:{fontSize:20}})}),e.jsx(b,{onClick:()=>O(a.id),children:e.jsx(ue,{style:{fontSize:20}})})]})]},a.id))})]})}),e.jsx(pe,{rowsPerPageOptions:[10,20,30],component:"div",count:F.length,rowsPerPage:m,page:g,onPageChange:k,onRowsPerPageChange:L}),e.jsx(he,{open:U,handleClose:Q,handleAddItem:X,categories:G,suppliers:V}),e.jsx(ae,{open:D,handleClose:H,handleAddSupplier:K})]})};export{we as default};
