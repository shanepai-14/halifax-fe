import{j as e,r,B as y,a0 as z,X as H}from"./index-3Dfl6oJO.js";import{c as b,a as g,F as M,e as S,f as p}from"./index.esm-DArbFgRP.js";import{D as w,a as R}from"./DialogContent-B8aIQXH7.js";import{D as v,a as D}from"./DialogTitle-DYM2Idz0.js";import{T as h,M as X}from"./TextField-DschuOHm.js";import{B as x}from"./Button-DoJ-5pVP.js";import{C as J}from"./Container-C3bhKZQa.js";import{R as K,a as T}from"./SearchOutlined-LRoC_iOP.js";import{T as Q,a as U,e as Y,c as A,d as m,b as Z}from"./TableRow-2VU3TB2Z.js";import{T as _}from"./TablePagination-Byw8Lauz.js";import"./InputLabel-BIWuCLp4.js";const ee=b().shape({name:g().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),ae=({open:i,handleClose:s,handleAddCategory:d})=>e.jsxs(w,{open:i,onClose:s,children:[e.jsx(v,{children:"Add New Category"}),e.jsx(M,{initialValues:{name:""},validationSchema:ee,onSubmit:(l,{setSubmitting:a,resetForm:o})=>{d(l),a(!1),o(),s()},children:({errors:l,touched:a,isSubmitting:o})=>e.jsxs(S,{children:[e.jsx(R,{children:e.jsx(p,{as:h,name:"name",label:"Category Name",fullWidth:!0,error:a.name&&l.name,helperText:a.name&&l.name})}),e.jsxs(D,{children:[e.jsx(x,{onClick:s,children:"Cancel"}),e.jsx(x,{type:"submit",disabled:o,children:"Add"})]})]})})]}),te=b().shape({code:g().matches(/^P\d{3}$/,"Must be in format P001").required("Required"),name:g().min(2,"Too Short!").max(50,"Too Long!").required("Required"),category:g().required("Required")}),oe=({open:i,handleClose:s,handleAddProduct:d,categories:l})=>e.jsxs(w,{open:i,onClose:s,children:[e.jsx(v,{children:"Add New Product"}),e.jsx(M,{initialValues:{code:"",name:"",category:""},validationSchema:te,onSubmit:(a,{setSubmitting:o,resetForm:n})=>{d(a),o(!1),n(),s()},children:({errors:a,touched:o,isSubmitting:n})=>e.jsxs(S,{children:[e.jsxs(R,{children:[e.jsx(p,{as:h,name:"code",label:"Product Code",fullWidth:!0,margin:"normal",error:o.code&&a.code,helperText:o.code&&a.code}),e.jsx(p,{as:h,name:"name",label:"Product Name",fullWidth:!0,margin:"normal",error:o.name&&a.name,helperText:o.name&&a.name}),e.jsx(p,{as:h,select:!0,name:"category",label:"Category",fullWidth:!0,margin:"normal",error:o.category&&a.category,helperText:o.category&&a.category,children:l.map(u=>e.jsx(X,{value:u,children:u},u))})]}),e.jsxs(D,{children:[e.jsx(x,{onClick:s,children:"Cancel"}),e.jsx(x,{type:"submit",disabled:n,children:"Add"})]})]})})]}),se=[{id:1,code:"P001",name:"Tempered Glass",category:"Glass"},{id:2,code:"P002",name:"Aluminum Frame",category:"Metal"},{id:3,code:"P003",name:"Wooden Door",category:"Wood"},{id:4,code:"P004",name:"Steel Reinforcement",category:"Metal"},{id:5,code:"P005",name:"Plastic Moldings",category:"Plastic"}],pe=()=>{const[i,s]=r.useState(0),[d,l]=r.useState(10),[a,o]=r.useState(se),[n,u]=r.useState(""),[j,I]=r.useState(a),[q,P]=r.useState(!1),[L,C]=r.useState(!1),[f,W]=r.useState(["Glass","Metal","Wood","Plastic"]);r.useEffect(()=>{const t=a.filter(c=>c.code.toLowerCase().includes(n.toLowerCase())||c.name.toLowerCase().includes(n.toLowerCase())||c.category.toLowerCase().includes(n.toLowerCase()));I(t)},[n,a]);const F=(t,c)=>{s(c)},k=t=>{l(parseInt(t.target.value,10)),s(0)},B=()=>{P(!0)},N=()=>{P(!1)},O=()=>{C(!0)},$=()=>{C(!1)},E=t=>{W([...f,t.name])},G=t=>{const c=Math.max(...a.map(V=>V.id))+1;o([...a,{...t,id:c}])};return e.jsxs(J,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[e.jsxs(y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(h,{placeholder:"Search products...",variant:"outlined",size:"small",value:n,onChange:t=>u(t.target.value),InputProps:{startAdornment:e.jsx(z,{position:"start",children:e.jsx(K,{})})}}),e.jsxs(y,{children:[e.jsx(x,{variant:"contained",onClick:O,startIcon:e.jsx(T,{}),color:"error",children:"Add Product"}),e.jsx(x,{variant:"contained",onClick:B,startIcon:e.jsx(T,{}),sx:{ml:1},color:"info",children:"Add Category"})]})]}),e.jsx(Q,{component:H,children:e.jsxs(U,{children:[e.jsx(Y,{children:e.jsxs(A,{children:[e.jsx(m,{children:"Code"}),e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Category"})]})}),e.jsx(Z,{children:j.slice(i*d,i*d+d).map(t=>e.jsxs(A,{children:[e.jsx(m,{children:t.code}),e.jsx(m,{children:t.name}),e.jsx(m,{children:t.category})]},t.id))})]})}),e.jsx(_,{rowsPerPageOptions:[5,10,25],component:"div",count:j.length,rowsPerPage:d,page:i,onPageChange:F,onRowsPerPageChange:k}),e.jsx(ae,{open:q,handleClose:N,handleAddCategory:E}),e.jsx(oe,{open:L,handleClose:$,handleAddProduct:G,categories:f})]})};export{pe as default};
