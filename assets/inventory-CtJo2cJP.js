import{r as s,j as e,at as _,B as S,T as M,G as c,F as h,a0 as ee,X as ae,V as w}from"./index-VIGZPWaT.js";import{T as A,S as x,M as d}from"./TextField-C6gBbyiT.js";import{I as y}from"./InputLabel-DGJd9MLZ.js";import{B as P}from"./Button-ZP6XIgBV.js";import{A as te}from"./addSupplierModal-Bk_FaIBK.js";import{C as ie}from"./Container-YQMfDupd.js";import{R as ne,a as R}from"./SearchOutlined-D-i0WEDY.js";import{R as re,a as se}from"./EyeOutlined-BwO6o02G.js";import{T as le,a as oe,e as de,c as B,d as r,b as ce}from"./TableRow-BQXvLkb_.js";import{R as ue}from"./EditOutlined-BkWyqAwf.js";import{R as pe}from"./DeleteOutlined-DvCR4BZ9.js";import{T as me}from"./TablePagination-BA94k1St.js";const he={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4},xe=({open:g,handleClose:u,handleAddItem:p,categories:b,suppliers:l,productName:f})=>{const[i,j]=s.useState({code:"",name:"",category:"",supplier:"",price:"",quantity:""}),o=t=>{const{name:q,value:m}=t.target;j(I=>({...I,[q]:m}))},v=t=>{t.preventDefault(),p({...i,price:parseFloat(i.price),quantity:parseInt(i.quantity)}),u(),j({code:"",name:"",category:"",supplier:"",price:"",quantity:""})};return e.jsx(_,{open:g,onClose:u,"aria-labelledby":"add-item-modal-title",children:e.jsxs(S,{sx:he,children:[e.jsx(M,{id:"add-item-modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:"Add New Item"}),e.jsx("form",{onSubmit:v,children:e.jsxs(c,{container:!0,spacing:2,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(A,{fullWidth:!0,label:"Product Code",name:"code",value:i.code,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(y,{children:"Product Name"}),e.jsx(x,{name:"name",value:i.name,onChange:o,label:"Product Name",children:f.map(t=>e.jsx(d,{value:t,children:t},t))})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(y,{children:"Category"}),e.jsx(x,{name:"category",value:i.category,onChange:o,label:"Category",children:b.map(t=>e.jsx(d,{value:t,children:t},t))})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(y,{children:"Supplier"}),e.jsx(x,{name:"supplier",value:i.supplier,onChange:o,label:"Supplier",children:l.map(t=>e.jsx(d,{value:t,children:t},t))})]})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(A,{fullWidth:!0,label:"Price",name:"price",type:"number",value:i.price,onChange:o,required:!0,InputProps:{startAdornment:e.jsx(M,{children:"₱"})}})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(A,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(S,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:2},children:[e.jsx(P,{onClick:u,variant:"outlined",children:"Cancel"}),e.jsx(P,{type:"submit",variant:"contained",color:"primary",children:"Add Item"})]})})]})})]})})},ye=[{id:1,code:"P001",name:"Tempered Glass",price:100,quantity:50,category:"Glass",supplier:"GlassCo"},{id:2,code:"P002",name:"Insulated Glass",price:120,quantity:40,category:"Glass",supplier:"GlassMasters"},{id:3,code:"P003",name:"Laminated Glass",price:130,quantity:30,category:"Glass",supplier:"SafeGlass"},{id:4,code:"P004",name:"Frosted Glass",price:90,quantity:60,category:"Glass",supplier:"GlassCo"},{id:5,code:"P005",name:"Soundproof Glass",price:150,quantity:20,category:"Glass",supplier:"SoundTech"},{id:6,code:"P006",name:"Aluminum Sheet",price:80,quantity:100,category:"Aluminum",supplier:"AluMetals"},{id:7,code:"P007",name:"Aluminum Cladding",price:70,quantity:50,category:"Aluminum",supplier:"CladWorks"},{id:8,code:"P008",name:"Aluminum Bars",price:60,quantity:75,category:"Aluminum",supplier:"AluSupply"},{id:9,code:"P009",name:"Aluminum Window Frames",price:200,quantity:20,category:"Aluminum",supplier:"WindowFramesCo"},{id:10,code:"P010",name:"Aluminum Doors",price:250,quantity:15,category:"Aluminum",supplier:"DoorsCo"},{id:11,code:"P011",name:"Breezeway Louver Windows",price:180,quantity:10,category:"Breezeway",supplier:"BreezewayTech"},{id:12,code:"P012",name:"Breezeway Ventilation Panels",price:70,quantity:30,category:"Breezeway",supplier:"VentPanelsInc"},{id:13,code:"P013",name:"Breezeway Sunshades",price:90,quantity:25,category:"Breezeway",supplier:"SunshadeSupply"},{id:14,code:"P014",name:"Jalousie Window Frame",price:120,quantity:50,category:"Jalousies Frame",supplier:"FrameWorks"},{id:15,code:"P015",name:"Adjustable Jalousie Frame",price:130,quantity:30,category:"Jalousies Frame",supplier:"AdjustFrameTech"},{id:16,code:"P016",name:"Fixed Jalousie Frame",price:110,quantity:40,category:"Jalousies Frame",supplier:"FixedFrameCo"},{id:17,code:"P017",name:"UPVC Window",price:300,quantity:20,category:"UPVC",supplier:"UPVCWindowsInc"},{id:18,code:"P018",name:"UPVC Door",price:350,quantity:15,category:"UPVC",supplier:"UPVCDoorMasters"},{id:19,code:"P019",name:"UPVC Cladding",price:100,quantity:45,category:"UPVC",supplier:"CladUPVC"},{id:20,code:"P020",name:"UPVC Fascia Board",price:80,quantity:60,category:"UPVC",supplier:"FasciaUPVC"},{id:21,code:"S001",name:"Glass Installation Service",price:500,quantity:0,category:"Services",supplier:"GlassInstallers"},{id:22,code:"S002",name:"Aluminum Fabrication Service",price:700,quantity:0,category:"Services",supplier:"AluFabTech"},{id:23,code:"S003",name:"Window Repair Service",price:300,quantity:0,category:"Services",supplier:"WindowRepairCo"},{id:24,code:"S004",name:"Custom UPVC Design",price:1e3,quantity:0,category:"Services",supplier:"CustomDesignUPVC"},{id:25,code:"P021",name:"Silicone Sealant",price:25,quantity:100,category:"Other",supplier:"SealantSupply"},{id:26,code:"P022",name:"Glass Cleaner",price:10,quantity:200,category:"Other",supplier:"CleanersInc"},{id:27,code:"P023",name:"Installation Tools Kit",price:150,quantity:20,category:"Other",supplier:"ToolKitsCo"}],Fe=()=>{const[g,u]=s.useState(0),[p,b]=s.useState(20),[l,f]=s.useState(ye),[i,j]=s.useState(""),[o,v]=s.useState("all"),[t,q]=s.useState("all"),[m,I]=s.useState("none"),[F,U]=s.useState(l),[z,T]=s.useState(!1),[D,W]=s.useState(!1);s.useEffect(()=>{let a=l.filter(n=>(n.code.toLowerCase().includes(i.toLowerCase())||n.name.toLowerCase().includes(i.toLowerCase()))&&(o==="all"||n.category===o)&&(t==="all"||n.supplier===t));m==="asc"?a.sort((n,C)=>n.quantity-C.quantity):m==="desc"&&a.sort((n,C)=>C.quantity-n.quantity),U(a)},[i,o,t,m,l]);const k=(a,n)=>{u(n)},L=a=>{b(parseInt(a.target.value,10)),u(0)},O=a=>{f(l.filter(n=>n.id!==a))},J=a=>{console.log("Edit item",a)},E=a=>{console.log("View item",a)},N=()=>{T(!0)},Q=()=>{T(!1)},$=()=>{W(!0)},H=()=>{W(!1)},K=a=>{console.log(a)},X=a=>{const n=Math.max(...l.map(C=>C.id))+1;f([...l,{...a,id:n}])},Y=()=>{j(""),v("all"),q("all"),I("none")},G=[...new Set(l.map(a=>a.category))],V=[...new Set(l.map(a=>a.supplier))],Z=[...new Set(l.map(a=>a.name))];return e.jsxs(ie,{maxWidth:"xxl",sx:{mt:0,px:"0!important"},children:[e.jsxs(S,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(S,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(A,{placeholder:"Search by code or name...",variant:"outlined",size:"small",value:i,onChange:a=>j(a.target.value),InputProps:{startAdornment:e.jsx(ee,{position:"start",children:e.jsx(ne,{})})}}),e.jsxs(h,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(y,{children:"Category"}),e.jsxs(x,{value:o,onChange:a=>v(a.target.value),label:"Category",children:[e.jsx(d,{value:"all",children:"All Categories"}),G.map(a=>e.jsx(d,{value:a,children:a},a))]})]}),e.jsxs(h,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(y,{children:"Supplier"}),e.jsxs(x,{value:t,onChange:a=>q(a.target.value),label:"Supplier",children:[e.jsx(d,{value:"all",children:"All Suppliers"}),V.map(a=>e.jsx(d,{value:a,children:a},a))]})]}),e.jsxs(h,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(y,{children:"Quantity"}),e.jsxs(x,{value:m,onChange:a=>I(a.target.value),label:"Quantity",children:[e.jsx(d,{value:"none",children:"No Sort"}),e.jsx(d,{value:"asc",children:"Low to High"}),e.jsx(d,{value:"desc",children:"High to Low"})]})]}),e.jsx(P,{variant:"text",color:"error",sx:{ml:1,padding:0,minWidth:0},onClick:Y,children:e.jsx(re,{})})]}),e.jsxs(S,{children:[e.jsx(P,{variant:"contained",onClick:N,color:"error",sx:{mr:1},startIcon:e.jsx(R,{}),children:"Add Item"}),e.jsx(P,{variant:"contained",color:"secondary",onClick:$,startIcon:e.jsx(R,{}),children:"Add Supplier"})]})]}),e.jsx(le,{component:ae,children:e.jsxs(oe,{children:[e.jsx(de,{children:e.jsxs(B,{children:[e.jsx(r,{children:"Code"}),e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Category"}),e.jsx(r,{children:"Supplier"}),e.jsx(r,{align:"right",children:"Unit Price (₱)"}),e.jsx(r,{align:"right",children:"Quantity"}),e.jsx(r,{align:"right",children:"Actions"})]})}),e.jsx(ce,{children:F.slice(g*p,g*p+p).map(a=>e.jsxs(B,{children:[e.jsx(r,{children:a.code}),e.jsx(r,{children:a.name}),e.jsx(r,{children:a.category}),e.jsx(r,{children:a.supplier}),e.jsxs(r,{align:"right",children:["₱",a.price.toLocaleString()]}),e.jsx(r,{align:"right",style:{color:a.quantity===0?"red":"inherit"},children:a.quantity}),e.jsxs(r,{align:"right",children:[e.jsx(w,{onClick:()=>E(a.id),children:e.jsx(se,{style:{fontSize:20}})}),e.jsx(w,{onClick:()=>J(a.id),children:e.jsx(ue,{style:{fontSize:20}})}),e.jsx(w,{onClick:()=>O(a.id),children:e.jsx(pe,{style:{fontSize:20}})})]})]},a.id))})]})}),e.jsx(me,{rowsPerPageOptions:[10,20,30],component:"div",count:F.length,rowsPerPage:p,page:g,onPageChange:k,onRowsPerPageChange:L}),e.jsx(xe,{open:z,handleClose:Q,handleAddItem:X,productName:Z,categories:G,suppliers:V}),e.jsx(te,{open:D,handleClose:H,handleAddSupplier:K})]})};export{Fe as default};
