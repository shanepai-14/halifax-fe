import{j as e,r,B as f,a0 as N,X as $}from"./index-CsnMuw79.js";import{c as w,a as x,F as T,e as b,f as P}from"./index.esm-CpbyVBDe.js";import{D as v,a as F}from"./DialogContent-Dko_NbbS.js";import{D as B,a as D}from"./DialogTitle-C8QRjsaa.js";import{T as h,M as E}from"./TextField-DnbiR1Vn.js";import{B as u}from"./Button-TmYyeiwX.js";import{C as H}from"./Container-D5BVpQDV.js";import{R as K,a as A}from"./SearchOutlined-9aE-YbN-.js";import{T as X,a as Q,e as Y,c as S,d as m,b as Z}from"./TableRow-YsORLWCN.js";import{T as _}from"./TablePagination-BAy82nzy.js";import"./InputLabel-Do79ovzi.js";const ee=w().shape({name:x().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),ae=({open:c,handleClose:t,handleAddCategory:d})=>e.jsxs(v,{open:c,onClose:t,children:[e.jsx(B,{children:"Add New Category"}),e.jsx(T,{initialValues:{name:""},validationSchema:ee,onSubmit:(i,{setSubmitting:a,resetForm:n})=>{d(i),a(!1),n(),t()},children:({errors:i,touched:a,isSubmitting:n})=>e.jsxs(b,{children:[e.jsx(F,{children:e.jsx(P,{as:h,name:"name",label:"Category Name",fullWidth:!0,error:a.name&&i.name,helperText:a.name&&i.name})}),e.jsxs(D,{children:[e.jsx(u,{onClick:t,children:"Cancel"}),e.jsx(u,{type:"submit",disabled:n,children:"Add"})]})]})})]}),oe=w().shape({code:x().matches(/^P\d{3}$/,"Must be in format P001").required("Required"),name:x().min(2,"Too Short!").max(50,"Too Long!").required("Required"),category:x().required("Required")}),ne=({open:c,handleClose:t,handleAddProduct:d,categories:i})=>e.jsxs(v,{open:c,onClose:t,children:[e.jsx(B,{children:"Add New Product"}),e.jsx(T,{initialValues:{code:"",name:"",category:""},validationSchema:oe,onSubmit:(a,{setSubmitting:n,resetForm:s})=>{d(a),n(!1),s(),t()},children:({errors:a,touched:n,isSubmitting:s})=>e.jsxs(b,{children:[e.jsxs(F,{children:[e.jsx(P,{as:h,name:"code",label:"Product Code",fullWidth:!0,margin:"normal",error:n.code&&a.code,helperText:n.code&&a.code}),e.jsx(P,{as:h,name:"name",label:"Product Name",fullWidth:!0,margin:"normal",error:n.name&&a.name,helperText:n.name&&a.name}),e.jsx(P,{as:h,select:!0,name:"category",label:"Category",fullWidth:!0,margin:"normal",error:n.category&&a.category,helperText:n.category&&a.category,children:i.map(g=>e.jsx(E,{value:g,children:g},g))})]}),e.jsxs(D,{children:[e.jsx(u,{onClick:t,children:"Cancel"}),e.jsx(u,{type:"submit",disabled:s,children:"Add"})]})]})})]}),te=[{id:1,code:"P001",name:"Tempered Glass",category:"Glass"},{id:2,code:"P002",name:"Insulated Glass",category:"Glass"},{id:3,code:"P003",name:"Laminated Glass",category:"Glass"},{id:4,code:"P004",name:"Frosted Glass",category:"Glass"},{id:5,code:"P005",name:"Soundproof Glass",category:"Glass"},{id:6,code:"P006",name:"Aluminum Sheet",category:"Aluminum"},{id:7,code:"P007",name:"Aluminum Cladding",category:"Aluminum"},{id:8,code:"P008",name:"Aluminum Bars",category:"Aluminum"},{id:9,code:"P009",name:"Aluminum Window Frames",category:"Aluminum"},{id:10,code:"P010",name:"Aluminum Doors",category:"Aluminum"},{id:11,code:"P011",name:"Breezeway Louver Windows",category:"Breezeway"},{id:12,code:"P012",name:"Breezeway Ventilation Panels",category:"Breezeway"},{id:13,code:"P013",name:"Breezeway Sunshades",category:"Breezeway"},{id:14,code:"P014",name:"Jalousie Window Frame",category:"Jalousies Frame"},{id:15,code:"P015",name:"Adjustable Jalousie Frame",category:"Jalousies Frame"},{id:16,code:"P016",name:"Fixed Jalousie Frame",category:"Jalousies Frame"},{id:17,code:"P017",name:"UPVC Window",category:"UPVC"},{id:18,code:"P018",name:"UPVC Door",category:"UPVC"},{id:19,code:"P019",name:"UPVC Cladding",category:"UPVC"},{id:20,code:"P020",name:"UPVC Fascia Board",category:"UPVC"},{id:21,code:"S001",name:"Glass Installation Service",category:"Services"},{id:22,code:"S002",name:"Aluminum Fabrication Service",category:"Services"},{id:23,code:"S003",name:"Window Repair Service",category:"Services"},{id:24,code:"S004",name:"Custom UPVC Design",category:"Services"},{id:25,code:"P021",name:"Silicone Sealant",category:"Other"},{id:26,code:"P022",name:"Glass Cleaner",category:"Other"},{id:27,code:"P023",name:"Installation Tools Kit",category:"Other"}],Pe=()=>{const[c,t]=r.useState(0),[d,i]=r.useState(10),[a,n]=r.useState(te),[s,g]=r.useState(""),[y,M]=r.useState(a),[G,p]=r.useState(!1),[I,C]=r.useState(!1),[j,R]=r.useState(["Glass","Aluminum","Breezeway","Jalousies Frame","UPVC","Services","Other"]);r.useEffect(()=>{const o=a.filter(l=>l.code.toLowerCase().includes(s.toLowerCase())||l.name.toLowerCase().includes(s.toLowerCase())||l.category.toLowerCase().includes(s.toLowerCase()));M(o)},[s,a]);const V=(o,l)=>{t(l)},L=o=>{i(parseInt(o.target.value,10)),t(0)},U=()=>{p(!0)},W=()=>{p(!1)},O=()=>{C(!0)},q=()=>{C(!1)},z=o=>{R([...j,o.name])},J=o=>{const l=Math.max(...a.map(k=>k.id))+1;n([...a,{...o,id:l}])};return e.jsxs(H,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(h,{placeholder:"Search products...",variant:"outlined",size:"small",value:s,onChange:o=>g(o.target.value),InputProps:{startAdornment:e.jsx(N,{position:"start",children:e.jsx(K,{})})}}),e.jsxs(f,{children:[e.jsx(u,{variant:"contained",onClick:O,startIcon:e.jsx(A,{}),color:"error",children:"Add Product"}),e.jsx(u,{variant:"contained",onClick:U,startIcon:e.jsx(A,{}),sx:{ml:1},color:"info",children:"Add Category"})]})]}),e.jsx(X,{component:$,children:e.jsxs(Q,{children:[e.jsx(Y,{children:e.jsxs(S,{children:[e.jsx(m,{children:"Code"}),e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Category"})]})}),e.jsx(Z,{children:y.slice(c*d,c*d+d).map(o=>e.jsxs(S,{children:[e.jsx(m,{children:o.code}),e.jsx(m,{children:o.name}),e.jsx(m,{children:o.category})]},o.id))})]})}),e.jsx(_,{rowsPerPageOptions:[5,10,25],component:"div",count:y.length,rowsPerPage:d,page:c,onPageChange:V,onRowsPerPageChange:L}),e.jsx(ae,{open:G,handleClose:W,handleAddCategory:z}),e.jsx(ne,{open:I,handleClose:q,handleAddProduct:J,categories:j})]})};export{Pe as default};
