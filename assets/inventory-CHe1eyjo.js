import{r,j as e,as as Z,B as C,T as k,G as c,F as S,a0 as _,X as ee,V as A}from"./index-BhYoBfNI.js";import{T as f,S as v,M as d}from"./TextField-C-KDwdR_.js";import{I}from"./InputLabel-Cx1ZgG9A.js";import{B as b}from"./Button-BlsAQ-hO.js";import{A as te}from"./addSupplierModal-CQWK7y8j.js";import{C as ae}from"./Container-DWYfvoBh.js";import{R as ne,a as B}from"./SearchOutlined-BEwgCVnj.js";import{R as le,a as se}from"./EyeOutlined-RWwNszQN.js";import{T as re,a as ie,e as oe,c as D,d as l,b as de}from"./TableRow-AVLFPV2b.js";import{R as ce}from"./EditOutlined-daRtyVVI.js";import{R as ue}from"./DeleteOutlined-ZRtIyer5.js";import{T as pe}from"./TablePagination-DmkzxR6z.js";const he={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4},me=({open:g,handleClose:p,handleAddItem:h,categories:q,suppliers:i})=>{const[s,u]=r.useState({code:"",name:"",category:"",supplier:"",price:"",quantity:""}),o=a=>{const{name:x,value:P}=a.target;u(j=>({...j,[x]:P}))},m=a=>{a.preventDefault(),h({...s,price:parseFloat(s.price),quantity:parseInt(s.quantity)}),p(),u({code:"",name:"",category:"",supplier:"",price:"",quantity:""})};return e.jsx(Z,{open:g,onClose:p,"aria-labelledby":"add-item-modal-title",children:e.jsxs(C,{sx:he,children:[e.jsx(k,{id:"add-item-modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:"Add New Item"}),e.jsx("form",{onSubmit:m,children:e.jsxs(c,{container:!0,spacing:2,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Product Code",name:"code",value:s.code,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(f,{fullWidth:!0,label:"Product Name",name:"name",value:s.name,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(S,{fullWidth:!0,required:!0,children:[e.jsx(I,{children:"Category"}),e.jsx(v,{name:"category",value:s.category,onChange:o,label:"Category",children:q.map(a=>e.jsx(d,{value:a,children:a},a))})]})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(S,{fullWidth:!0,required:!0,children:[e.jsx(I,{children:"Supplier"}),e.jsx(v,{name:"supplier",value:s.supplier,onChange:o,label:"Supplier",children:i.map(a=>e.jsx(d,{value:a,children:a},a))})]})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(f,{fullWidth:!0,label:"Price",name:"price",type:"number",value:s.price,onChange:o,required:!0,InputProps:{startAdornment:e.jsx(k,{children:"₱"})}})}),e.jsx(c,{item:!0,xs:6,children:e.jsx(f,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:s.quantity,onChange:o,required:!0})}),e.jsx(c,{item:!0,xs:12,children:e.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:2},children:[e.jsx(b,{onClick:p,variant:"outlined",children:"Cancel"}),e.jsx(b,{type:"submit",variant:"contained",color:"primary",children:"Add Item"})]})})]})})]})})},xe=[{id:1,code:"P001",name:"Tempered Glass",price:100,quantity:50,category:"Glass",supplier:"GlassCo"},{id:2,code:"P002",name:"Aluminum Frame",price:50,quantity:100,category:"Metal",supplier:"MetalWorks"},{id:3,code:"P003",name:"Wooden Door",price:200,quantity:25,category:"Wood",supplier:"WoodCrafters"},{id:4,code:"P004",name:"Steel Reinforcement",price:150,quantity:40,category:"Metal",supplier:"SteelMasters"},{id:5,code:"P005",name:"Plastic Moldings",price:20,quantity:150,category:"Plastic",supplier:"PlastiCorp"},{id:6,code:"P006",name:"Glass Fiber",price:80,quantity:75,category:"Glass",supplier:"FiberTech"},{id:7,code:"P007",name:"Cement",price:120,quantity:0,category:"Construction",supplier:"BuilderSupplies"},{id:8,code:"P008",name:"Iron Rods",price:300,quantity:35,category:"Metal",supplier:"MetalWorks"}],Me=()=>{const[g,p]=r.useState(0),[h,q]=r.useState(20),[i,s]=r.useState(xe),[u,o]=r.useState(""),[m,a]=r.useState("all"),[x,P]=r.useState("all"),[j,M]=r.useState("none"),[R,L]=r.useState(i),[z,T]=r.useState(!1),[G,W]=r.useState(!1);r.useEffect(()=>{let t=i.filter(n=>(n.code.toLowerCase().includes(u.toLowerCase())||n.name.toLowerCase().includes(u.toLowerCase()))&&(m==="all"||n.category===m)&&(x==="all"||n.supplier===x));j==="asc"?t.sort((n,y)=>n.quantity-y.quantity):j==="desc"&&t.sort((n,y)=>y.quantity-n.quantity),L(t)},[u,m,x,j,i]);const E=(t,n)=>{p(n)},N=t=>{q(parseInt(t.target.value,10)),p(0)},O=t=>{s(i.filter(n=>n.id!==t))},Q=t=>{console.log("Edit item",t)},$=t=>{console.log("View item",t)},H=()=>{T(!0)},V=()=>{T(!1)},X=()=>{W(!0)},J=()=>{W(!1)},K=t=>{console.log(t)},U=t=>{const n=Math.max(...i.map(y=>y.id))+1;s([...i,{...t,id:n}])},Y=()=>{o(""),a("all"),P("all"),M("none")},w=[...new Set(i.map(t=>t.category))],F=[...new Set(i.map(t=>t.supplier))];return e.jsxs(ae,{maxWidth:"xxl",sx:{mt:0,px:"0!important"},children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(f,{placeholder:"Search by code or name...",variant:"outlined",size:"small",value:u,onChange:t=>o(t.target.value),InputProps:{startAdornment:e.jsx(_,{position:"start",children:e.jsx(ne,{})})}}),e.jsxs(S,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(I,{children:"Category"}),e.jsxs(v,{value:m,onChange:t=>a(t.target.value),label:"Category",children:[e.jsx(d,{value:"all",children:"All Categories"}),w.map(t=>e.jsx(d,{value:t,children:t},t))]})]}),e.jsxs(S,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(I,{children:"Supplier"}),e.jsxs(v,{value:x,onChange:t=>P(t.target.value),label:"Supplier",children:[e.jsx(d,{value:"all",children:"All Suppliers"}),F.map(t=>e.jsx(d,{value:t,children:t},t))]})]}),e.jsxs(S,{sx:{ml:1,minWidth:120},size:"small",children:[e.jsx(I,{children:"Quantity"}),e.jsxs(v,{value:j,onChange:t=>M(t.target.value),label:"Quantity",children:[e.jsx(d,{value:"none",children:"No Sort"}),e.jsx(d,{value:"asc",children:"Low to High"}),e.jsx(d,{value:"desc",children:"High to Low"})]})]}),e.jsx(b,{variant:"text",color:"error",sx:{ml:1,padding:0,minWidth:0},onClick:Y,children:e.jsx(le,{})})]}),e.jsxs(C,{children:[e.jsx(b,{variant:"contained",onClick:H,color:"error",sx:{mr:1},startIcon:e.jsx(B,{}),children:"Add Item"}),e.jsx(b,{variant:"contained",color:"secondary",onClick:X,startIcon:e.jsx(B,{}),children:"Add Supplier"})]})]}),e.jsx(re,{component:ee,children:e.jsxs(ie,{children:[e.jsx(oe,{children:e.jsxs(D,{children:[e.jsx(l,{children:"Code"}),e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Category"}),e.jsx(l,{children:"Supplier"}),e.jsx(l,{align:"right",children:"Price (₱)"}),e.jsx(l,{align:"right",children:"Quantity"}),e.jsx(l,{align:"right",children:"Actions"})]})}),e.jsx(de,{children:R.slice(g*h,g*h+h).map(t=>e.jsxs(D,{children:[e.jsx(l,{children:t.code}),e.jsx(l,{children:t.name}),e.jsx(l,{children:t.category}),e.jsx(l,{children:t.supplier}),e.jsxs(l,{align:"right",children:["₱",t.price.toLocaleString()]}),e.jsx(l,{align:"right",style:{color:t.quantity===0?"red":"inherit"},children:t.quantity}),e.jsxs(l,{align:"right",children:[e.jsx(A,{onClick:()=>$(t.id),children:e.jsx(se,{style:{fontSize:20}})}),e.jsx(A,{onClick:()=>Q(t.id),children:e.jsx(ce,{style:{fontSize:20}})}),e.jsx(A,{onClick:()=>O(t.id),children:e.jsx(ue,{style:{fontSize:20}})})]})]},t.id))})]})}),e.jsx(pe,{rowsPerPageOptions:[10,20,30],component:"div",count:R.length,rowsPerPage:h,page:g,onPageChange:E,onRowsPerPageChange:N}),e.jsx(me,{open:z,handleClose:V,handleAddItem:U,categories:w,suppliers:F}),e.jsx(te,{open:G,handleClose:J,handleAddSupplier:K})]})};export{Me as default};
